# 计算机网络（自顶向下方法）课程笔记

课程地址：[【中科大郑烇、杨坚全套《计算机网络（自顶向下方法 第7版，James F.Kurose，Keith W.Ross）》课程】](https://www.bilibili.com/video/BV1JV411t7ow)

## 网络概述

### 网络边缘

### 网络核心

### 接入网和物理媒体

### 因特网结构和ISP

### 分组演示、丢失和吞吐量

### 协议层次和服务模型

### 互联网历史

## 应用层

### Web和HTTP

### FTP

### EMail

### DNS

### P2P

### CDN

CDN（Content Distribution Networks）

背景：服务器如何通过网络向上百万用户同时提供流化视频内容？

选择1：单个的、大的超级服务中心——Mega Server

- 服务器到客户端路径上Hop多，瓶颈链路带宽小
- 二八定律（同一个视频的多个拷贝）
- 单点故障、性能瓶颈
- 周边网络拥塞

选择2：通过CDN，全网部署缓存节点，就近为用户提供内容加速服务

- ICP购买CDN运营商的服务，将内容提前部署于缓存节点，用户通过域名**重定向**找到最近的缓存节点（网络拥塞，可能寻找其他节点）；部署有两种策略：

  - enter deep：将CDN服务器深入接入网，数量多、离用户近；

  - bring home：部署在少数（10个左右）关键位置（安装于ICP POP附近）；采用租用线路将服务器簇链接起来

### Socket

套接字：应用进程与端到端传输协议（TCP或UDP）之间的**门户**

TCP Socket

TCP/IP：应用进程使用Socket API访问传输服务；位于层间接口的服务访问点（SAP）

```
struct socketaddr_in {
	short sin_family; // 地址簇
	u_short sin_port; // 端口
	struct in_addr sin_addr; // IP地址
	char sin_zero[8]; // 对齐 
}

// 作为调用域名解析函数时的参数
struct hostend {
	char *h_name; // 主机域名
	char **h_aliases; // 域名别名
	int h_addrtype; // 地址类型
	int h_length; // 地址长度
	char **h_addr_list; // IP地址
}
```

服务端：

绑定ip地址和端口号

welcome socket守候在某个端口，等待客户端连接

客户端连接之后返回一个connectionSocket作为会话标志

// TODO C语言代码



客户端：
隐式绑定ip地址和端口号

指定服务器的ip地址和端口号进行连接

连接之后返回一个connectionSocket作为会话标志

// TODO C语言代码



UDP Socket

客户端和服务端之间没有建立连接、没有握手

发送端在每一个报文中指定接受端的ip地址和端口号

接收端必须从收到的分组中提取出发送端的IP地址和端口号

// TODO 服务端C语言代码

// TODO 客户端C语言代码

## 传输层

### 传输层服务

为运行在不同主机上的应用进程提供逻辑通信

传输协议运行在端系统，可选择不同的协议（如TCP和UDP）

- 发送方将应用层的报文分成报文段，传递给网络层
- 接受方将报文段重组成报文，传递给应用层

传输层依赖网络层的服务，并对网络层的部分服务进行增强（数据丢失、乱序、加密可以增强，延时和带块不可增强）

可靠的保序的传输（字节流）：TCP

- 多路复用、解复用
- 拥塞控制
- 流量控制
- 建立连接

不可靠不保序的传输（数据报）：UDP

- 多路复用、解复用

### 多路复用和解服用

### 无连接传输

### 可靠数据传输

### 拥塞控制原理

